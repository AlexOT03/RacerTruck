---
import Layout from "../layouts/Layout.astro";
import FlipBook from "../components/Flipbook";
---

<Layout title="Test">
	<main>
        <dialog class="flipbook-dialog items-center justify-center bg-transparent px-4 text-2xl sm:px-0">
            <button type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm text-center inline-flex items-center p-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/></svg>
            </button>
        </dialog>

        <button type="button" class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700">
            Read Magazine
        </button>
	</main>
</Layout>

<style>
	.flipbook-dialog[open]::backdrop {
		background-color: #000000b3;
		animation-name: join-anim;
		animation-duration: 200ms;
		animation-fill-mode: forwards;
		animation-timing-function: ease-in-out;
	}

	@keyframes join-anim {
		from {
			background-color: #00000000;
		}
		to {
			background-color: #000000b3;
		}
	}
</style>

<script>
	const dialog = document.querySelector("dialog");
	const showButton = document.querySelector("dialog + button");
	const closeButton = document.querySelector("dialog button");

	// "Show the dialog" button opens the dialog modally
	showButton?.addEventListener("click", () => {
		dialog?.showModal();
	});

	// "Close" button closes the dialog
	closeButton?.addEventListener("click", () => {
		dialog?.close();
	});
</script>
